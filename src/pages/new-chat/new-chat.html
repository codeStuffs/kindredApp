<!--
  Generated template for the NewChat page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar *ngIf="searching">
    <ion-searchbar
      autofocus
      class="search-bar"
      [showCancelButton]="true"
      (ionInput)="updateSubscription($event.target.value); searching=true;"
      (ionClear)="updateSubscription(undefined); searching=false;">
    </ion-searchbar>
  </ion-toolbar>

  <ion-toolbar *ngIf="!searching">
    <ion-title>New Chat</ion-title>
    <ion-buttons left>
      <button ion-button class="dismiss-button" (click)="viewCtrl.dismiss()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
    <ion-buttons end>
      <button ion-button class="search-button" (tap)="searching = true">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>

</ion-header>


<ion-content class="new-chat">
  <ion-list class="users">
    <button ion-item class="chat" *ngFor="let kin of kins | async" (click)="addChat(kin.$key)">
      <img class="kin-picture" [src]="kin.photoUrl">
      <div class="kin-body-arrow"></div>
      <div class="kin-wrapper">
        <div class="kin-info">
          <h2 class="kin-name">{{kin.firstname + ' ' + kin.middleName + ' '+ kin.lastName}}</h2>
        </div>
      </div>
    </button>
  </ion-list>
</ion-content>
